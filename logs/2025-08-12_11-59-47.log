2025-08-12 11:59:47,913 - INFO - Connecting to IBKR...
2025-08-12 11:59:47,914 - INFO - Connecting to 127.0.0.1:7497 with clientId 1...
2025-08-12 11:59:47,914 - INFO - Connected
2025-08-12 11:59:47,941 - INFO - Logged on to server version 176
2025-08-12 11:59:47,946 - INFO - API connection ready
2025-08-12 11:59:47,948 - INFO - Warning 2104, reqId -1: Market data farm connection is OK:hfarm
2025-08-12 11:59:47,949 - INFO - Warning 2104, reqId -1: Market data farm connection is OK:eufarmnj
2025-08-12 11:59:47,949 - INFO - Warning 2104, reqId -1: Market data farm connection is OK:cashfarm
2025-08-12 11:59:47,949 - INFO - Warning 2104, reqId -1: Market data farm connection is OK:usfuture
2025-08-12 11:59:47,950 - INFO - Warning 2104, reqId -1: Market data farm connection is OK:usopt.nj
2025-08-12 11:59:47,950 - INFO - Warning 2104, reqId -1: Market data farm connection is OK:jfarm
2025-08-12 11:59:47,950 - INFO - Warning 2104, reqId -1: Market data farm connection is OK:usfarm.nj
2025-08-12 11:59:47,950 - INFO - Warning 2104, reqId -1: Market data farm connection is OK:usfarm
2025-08-12 11:59:47,950 - INFO - Warning 2104, reqId -1: Market data farm connection is OK:usopt
2025-08-12 11:59:47,951 - INFO - Warning 2106, reqId -1: HMDS data farm connection is OK:euhmds
2025-08-12 11:59:47,951 - INFO - Warning 2106, reqId -1: HMDS data farm connection is OK:fundfarm
2025-08-12 11:59:47,951 - INFO - Warning 2106, reqId -1: HMDS data farm connection is OK:ushmds
2025-08-12 11:59:47,951 - INFO - Warning 2158, reqId -1: Sec-def data farm connection is OK:secdefil
2025-08-12 11:59:48,354 - INFO - Synchronization complete
2025-08-12 11:59:48,355 - INFO - Connected to IBKR. Starting all-day monitoring...
2025-08-12 11:59:48,355 - INFO - Monitoring all open option positions with stop-loss protection...
2025-08-12 11:59:48,557 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 11:59:49,760 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 11:59:50,976 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 11:59:52,178 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 11:59:53,387 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 11:59:54,593 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 11:59:55,799 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 11:59:57,012 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 11:59:58,214 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 11:59:59,422 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:00,423 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=4.0, avgCost=89.0)
2025-08-12 12:00:00,424 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=7.0, avgCost=89.0)
2025-08-12 12:00:00,425 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=10.0, avgCost=89.0)
2025-08-12 12:00:00,429 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=10.0, avgCost=89.0)
2025-08-12 12:00:00,432 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=10.0, avgCost=89.28058)
2025-08-12 12:00:00,433 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=10.0, avgCost=89.623015)
2025-08-12 12:00:00,434 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=10.0, avgCost=89.96844999999999)
2025-08-12 12:00:01,161 - INFO - Checking SPY   250812C00641000 | Cost: 0.90 | Bid: 0.86 | Loss: -4.41%
2025-08-12 12:00:01,161 - INFO - Holding SPY   250812C00641000 | Loss -4.41% is within limit.
2025-08-12 12:00:02,165 - INFO - updatePortfolio: PortfolioItem(contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', primaryExchange='AMEX', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=10.0, marketPrice=0.88, marketValue=880.0, averageCost=89.96845, unrealizedPNL=-19.68, realizedPNL=0.0, account='DUN086112')
2025-08-12 12:00:02,165 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=10.0, avgCost=89.96844999999999)
2025-08-12 12:00:02,815 - INFO - Checking SPY   250812C00641000 | Cost: 0.90 | Bid: 0.84 | Loss: -6.63%
2025-08-12 12:00:02,815 - WARNING - STOP-LOSS TRIGGERED for SPY   250812C00641000 | Loss: -6.63%
2025-08-12 12:00:02,816 - INFO - placeOrder: New order Trade(contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', exchange='AMEX', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), order=LimitOrder(orderId=366, clientId=1, action='SELL', totalQuantity=10.0, lmtPrice=0.84), orderStatus=OrderStatus(orderId=366, status='PendingSubmit', filled=0.0, remaining=0.0, avgFillPrice=0.0, permId=0, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2025, 8, 12, 16, 0, 2, 816597, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0)], advancedError='')
2025-08-12 12:00:02,915 - INFO - orderStatus: Trade(contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', exchange='AMEX', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), order=LimitOrder(orderId=366, clientId=1, permId=1909155012, action='SELL', totalQuantity=10.0, lmtPrice=0.84, auxPrice=0.0), orderStatus=OrderStatus(orderId=366, status='PreSubmitted', filled=0.0, remaining=10.0, avgFillPrice=0.0, permId=1909155012, parentId=0, lastFillPrice=0.0, clientId=1, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2025, 8, 12, 16, 0, 2, 816597, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2025, 8, 12, 16, 0, 2, 915620, tzinfo=datetime.timezone.utc), status='PreSubmitted', message='', errorCode=0)], advancedError='')
2025-08-12 12:00:02,916 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:02,975 - INFO - execDetails Execution(execId='00020057.689c2c0c.01.01', time=datetime.datetime(2025, 8, 12, 16, 0, 2, tzinfo=datetime.timezone.utc), acctNumber='DUN086112', exchange='AMEX', side='SLD', shares=10.0, price=0.84, permId=1909155012, clientId=1, orderId=366, liquidation=0, cumQty=10.0, avgPrice=0.84, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2)
2025-08-12 12:00:02,976 - INFO - execDetails: Fill(contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', exchange='AMEX', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), execution=Execution(execId='00020057.689c2c0c.01.01', time=datetime.datetime(2025, 8, 12, 16, 0, 2, tzinfo=datetime.timezone.utc), acctNumber='DUN086112', exchange='AMEX', side='SLD', shares=10.0, price=0.84, permId=1909155012, clientId=1, orderId=366, liquidation=0, cumQty=10.0, avgPrice=0.84, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2), commissionReport=CommissionReport(execId='', commission=0.0, currency='', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0), time=datetime.datetime(2025, 8, 12, 16, 0, 2, 922621, tzinfo=datetime.timezone.utc))
2025-08-12 12:00:02,978 - INFO - orderStatus: Trade(contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', exchange='AMEX', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), order=LimitOrder(orderId=366, clientId=1, permId=1909155012, action='SELL', totalQuantity=10.0, lmtPrice=0.84, auxPrice=0.0), orderStatus=OrderStatus(orderId=366, status='Filled', filled=10.0, remaining=0.0, avgFillPrice=0.84, permId=1909155012, parentId=0, lastFillPrice=0.84, clientId=1, whyHeld='', mktCapPrice=0.0), fills=[Fill(contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', exchange='AMEX', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), execution=Execution(execId='00020057.689c2c0c.01.01', time=datetime.datetime(2025, 8, 12, 16, 0, 2, tzinfo=datetime.timezone.utc), acctNumber='DUN086112', exchange='AMEX', side='SLD', shares=10.0, price=0.84, permId=1909155012, clientId=1, orderId=366, liquidation=0, cumQty=10.0, avgPrice=0.84, orderRef='', evRule='', evMultiplier=0.0, modelCode='', lastLiquidity=2), commissionReport=CommissionReport(execId='', commission=0.0, currency='', realizedPNL=0.0, yield_=0.0, yieldRedemptionDate=0), time=datetime.datetime(2025, 8, 12, 16, 0, 2, 922621, tzinfo=datetime.timezone.utc))], log=[TradeLogEntry(time=datetime.datetime(2025, 8, 12, 16, 0, 2, 816597, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2025, 8, 12, 16, 0, 2, 915620, tzinfo=datetime.timezone.utc), status='PreSubmitted', message='', errorCode=0), TradeLogEntry(time=datetime.datetime(2025, 8, 12, 16, 0, 2, 922621, tzinfo=datetime.timezone.utc), status='PreSubmitted', message='Fill 10.0@0.84', errorCode=0), TradeLogEntry(time=datetime.datetime(2025, 8, 12, 16, 0, 2, 978634, tzinfo=datetime.timezone.utc), status='Filled', message='', errorCode=0)], advancedError='')
2025-08-12 12:00:02,980 - INFO - commissionReport: CommissionReport(execId='00020057.689c2c0c.01.01', commission=10.5424, currency='USD', realizedPNL=-70.2269, yield_=0.0, yieldRedemptionDate=0)
2025-08-12 12:00:02,980 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:02,981 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:04,040 - INFO - updatePortfolio: PortfolioItem(contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', primaryExchange='AMEX', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, marketPrice=0.85, marketValue=0.0, averageCost=0.0, unrealizedPNL=0.0, realizedPNL=-70.23, account='DUN086112')
2025-08-12 12:00:04,041 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:04,252 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:05,254 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:05,463 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:06,465 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:06,671 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:07,673 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:07,889 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:08,891 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:09,102 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:10,104 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:10,316 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:11,318 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:11,526 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:12,528 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:12,732 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:13,734 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:13,937 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:14,939 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:15,151 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:16,153 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:16,358 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:17,360 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:17,565 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:18,566 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:18,780 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:19,781 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:19,986 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:20,987 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:21,198 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:22,199 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:22,407 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:23,410 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:23,610 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:24,612 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:24,827 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:25,829 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:26,041 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:27,042 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:27,257 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:28,259 - INFO - position: Position(account='DUN086112', contract=Option(conId=803377139, symbol='SPY', lastTradeDateOrContractMonth='20250812', strike=641.0, right='C', multiplier='100', currency='USD', localSymbol='SPY   250812C00641000', tradingClass='SPY'), position=0.0, avgCost=0.0)
2025-08-12 12:00:28,461 - INFO - No open option positions found. Sleeping before next check...
2025-08-12 12:00:28,606 - INFO - Disconnecting from 127.0.0.1:7497, 1.24 kB sent in 50 messages, 44.4 kB received in 825 messages, session time 40.7 s.
2025-08-12 12:00:28,606 - INFO - Disconnecting
2025-08-12 12:00:28,607 - INFO - Disconnected from IBKR.
