2025-07-28 12:07:55,725 - INFO - Connecting to IBKR...
2025-07-28 12:07:55,725 - INFO - Connecting to 127.0.0.1:7497 with clientId 1...
2025-07-28 12:07:55,726 - INFO - Connected
2025-07-28 12:07:55,728 - INFO - Logged on to server version 176
2025-07-28 12:07:55,729 - INFO - Warning 2104, reqId -1: Market data farm connection is OK:usfarm.nj
2025-07-28 12:07:55,729 - INFO - Warning 2104, reqId -1: Market data farm connection is OK:usfuture
2025-07-28 12:07:55,729 - INFO - Warning 2104, reqId -1: Market data farm connection is OK:cashfarm
2025-07-28 12:07:55,730 - INFO - Warning 2104, reqId -1: Market data farm connection is OK:usopt.nj
2025-07-28 12:07:55,730 - INFO - Warning 2104, reqId -1: Market data farm connection is OK:usopt
2025-07-28 12:07:55,730 - INFO - Warning 2104, reqId -1: Market data farm connection is OK:usfarm
2025-07-28 12:07:55,731 - INFO - Warning 2106, reqId -1: HMDS data farm connection is OK:ushmds
2025-07-28 12:07:55,731 - INFO - Warning 2158, reqId -1: Sec-def data farm connection is OK:secdefil
2025-07-28 12:07:55,731 - INFO - API connection ready
2025-07-28 12:07:55,733 - INFO - position: Position(account='DUN086112', contract=Stock(conId=76792991, symbol='TSLA', exchange='NASDAQ', currency='USD', localSymbol='TSLA', tradingClass='NMS'), position=0.0, avgCost=0.0)
2025-07-28 12:07:55,733 - INFO - position: Position(account='DUN086112', contract=Option(conId=791241016, symbol='TSLA', lastTradeDateOrContractMonth='20250801', strike=330.0, right='C', multiplier='100', currency='USD', localSymbol='TSLA  250801C00330000', tradingClass='TSLA'), position=1.0, avgCost=625.57365)
2025-07-28 12:07:55,934 - INFO - updatePortfolio: PortfolioItem(contract=Stock(conId=76792991, symbol='TSLA', right='0', primaryExchange='NASDAQ', currency='USD', localSymbol='TSLA', tradingClass='NMS'), position=0.0, marketPrice=327.65448, marketValue=0.0, averageCost=0.0, unrealizedPNL=0.0, realizedPNL=-986.55, account='DUN086112')
2025-07-28 12:07:55,934 - INFO - updatePortfolio: PortfolioItem(contract=Option(conId=791241016, symbol='TSLA', lastTradeDateOrContractMonth='20250801', strike=330.0, right='C', multiplier='100', primaryExchange='AMEX', currency='USD', localSymbol='TSLA  250801C00330000', tradingClass='TSLA'), position=1.0, marketPrice=6.1999998, marketValue=620.0, averageCost=625.57365, unrealizedPNL=-5.57, realizedPNL=0.0, account='DUN086112')
2025-07-28 12:07:56,048 - ERROR - Error handling fields: ['11', '2', '0', '76792991', 'TSLA', 'STK', '', '0.0', '', '', 'SMART', 'USD', 'TSLA', 'NMS', '00025b46.688810d3.01.01', '20250728 12:04:05 US/Eastern', 'DUN086112', 'SMART', 'BOT', '100', '328.38', '909666701', '0', '0', '100', '328.38', '', '', '', '', '1']
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\zoneinfo\_common.py", line 12, in load_tzdata
    return resources.files(package_name).joinpath(resource_name).open("rb")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\resources\_common.py", line 22, in files
    return from_package(get_package(package))
                        ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\resources\_common.py", line 53, in get_package
    resolved = resolve(package)
               ^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\resources\_common.py", line 44, in resolve
    return cand if isinstance(cand, types.ModuleType) else importlib.import_module(cand)
                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1126, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1126, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1140, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'tzdata'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\jsgnc\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\ib_insync\decoder.py", line 198, in interpret
    handler(fields)
  File "C:\Users\jsgnc\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\ib_insync\decoder.py", line 447, in execDetails
    time = cast(datetime, parseIBDatetime(timeStr))
                          ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsgnc\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\ib_insync\util.py", line 543, in parseIBDatetime
    t = t.replace(tzinfo=ZoneInfo(s2))
                         ^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\zoneinfo\_common.py", line 24, in load_tzdata
    raise ZoneInfoNotFoundError(f"No time zone found with key {key}")
zoneinfo._common.ZoneInfoNotFoundError: 'No time zone found with key US/Eastern'
2025-07-28 12:07:56,079 - ERROR - Error handling fields: ['11', '2', '0', '76792991', 'TSLA', 'STK', '', '0.0', '', '', 'SMART', 'USD', 'TSLA', 'NMS', '00025b46.688810e9.01.01', '20250728 12:04:14 US/Eastern', 'DUN086112', 'SMART', 'BOT', '100', '328.08', '909666697', '0', '0', '100', '328.08', '', '', '', '', '1']
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\zoneinfo\_common.py", line 12, in load_tzdata
    return resources.files(package_name).joinpath(resource_name).open("rb")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\resources\_common.py", line 22, in files
    return from_package(get_package(package))
                        ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\resources\_common.py", line 53, in get_package
    resolved = resolve(package)
               ^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\resources\_common.py", line 44, in resolve
    return cand if isinstance(cand, types.ModuleType) else importlib.import_module(cand)
                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1126, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1126, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1140, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'tzdata'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\jsgnc\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\ib_insync\decoder.py", line 198, in interpret
    handler(fields)
  File "C:\Users\jsgnc\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\ib_insync\decoder.py", line 447, in execDetails
    time = cast(datetime, parseIBDatetime(timeStr))
                          ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsgnc\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\ib_insync\util.py", line 543, in parseIBDatetime
    t = t.replace(tzinfo=ZoneInfo(s2))
                         ^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\zoneinfo\_common.py", line 24, in load_tzdata
    raise ZoneInfoNotFoundError(f"No time zone found with key {key}")
zoneinfo._common.ZoneInfoNotFoundError: 'No time zone found with key US/Eastern'
2025-07-28 12:07:56,083 - ERROR - Error handling fields: ['11', '2', '0', '76792991', 'TSLA', 'STK', '', '0.0', '', '', 'SMART', 'USD', 'TSLA', 'NMS', '00025b46.68881102.01.01', '20250728 12:04:24 US/Eastern', 'DUN086112', 'SMART', 'SLD', '100', '328.04', '909666705', '0', '0', '100', '328.04', '', '', '', '', '1']
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\zoneinfo\_common.py", line 12, in load_tzdata
    return resources.files(package_name).joinpath(resource_name).open("rb")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\resources\_common.py", line 22, in files
    return from_package(get_package(package))
                        ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\resources\_common.py", line 53, in get_package
    resolved = resolve(package)
               ^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\resources\_common.py", line 44, in resolve
    return cand if isinstance(cand, types.ModuleType) else importlib.import_module(cand)
                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1126, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1126, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1140, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'tzdata'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\jsgnc\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\ib_insync\decoder.py", line 198, in interpret
    handler(fields)
  File "C:\Users\jsgnc\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\ib_insync\decoder.py", line 447, in execDetails
    time = cast(datetime, parseIBDatetime(timeStr))
                          ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsgnc\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\ib_insync\util.py", line 543, in parseIBDatetime
    t = t.replace(tzinfo=ZoneInfo(s2))
                         ^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\zoneinfo\_common.py", line 24, in load_tzdata
    raise ZoneInfoNotFoundError(f"No time zone found with key {key}")
zoneinfo._common.ZoneInfoNotFoundError: 'No time zone found with key US/Eastern'
2025-07-28 12:07:56,088 - ERROR - Error handling fields: ['11', '2', '0', '791241016', 'TSLA', 'OPT', '20250801', '330.0', 'C', '100', 'SAPPHIRE', 'USD', 'TSLA  250801C00330000', 'TSLA', '0001938b.68870ced.01.01', '20250728 12:06:23 US/Eastern', 'DUN086112', 'SAPPHIRE', 'BOT', '1', '6.25', '909666723', '0', '0', '1', '6.25', '', '', '', '', '2']
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\zoneinfo\_common.py", line 12, in load_tzdata
    return resources.files(package_name).joinpath(resource_name).open("rb")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\resources\_common.py", line 22, in files
    return from_package(get_package(package))
                        ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\resources\_common.py", line 53, in get_package
    resolved = resolve(package)
               ^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\resources\_common.py", line 44, in resolve
    return cand if isinstance(cand, types.ModuleType) else importlib.import_module(cand)
                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1126, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1126, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1140, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'tzdata'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\jsgnc\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\ib_insync\decoder.py", line 198, in interpret
    handler(fields)
  File "C:\Users\jsgnc\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\ib_insync\decoder.py", line 447, in execDetails
    time = cast(datetime, parseIBDatetime(timeStr))
                          ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsgnc\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\ib_insync\util.py", line 543, in parseIBDatetime
    t = t.replace(tzinfo=ZoneInfo(s2))
                         ^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\zoneinfo\_common.py", line 24, in load_tzdata
    raise ZoneInfoNotFoundError(f"No time zone found with key {key}")
zoneinfo._common.ZoneInfoNotFoundError: 'No time zone found with key US/Eastern'
2025-07-28 12:07:56,092 - INFO - Synchronization complete
2025-07-28 12:07:56,092 - INFO - Defining option contract: TSLA 20250801 330 C
2025-07-28 12:07:56,247 - INFO - Monitoring contract: Option(conId=791241016, symbol='TSLA', lastTradeDateOrContractMonth='20250801', strike=330.0, right='C', multiplier='100', exchange='SMART', currency='USD', localSymbol='TSLA  250801C00330000', tradingClass='TSLA')
2025-07-28 12:07:56,247 - INFO - Stop-loss price set at: $10.26
2025-07-28 12:07:56,248 - INFO - Subscribing to market data...
2025-07-28 12:07:56,258 - ERROR - Error 10091, reqId 4: Part of requested market data requires additional subscription for API. See link in 'Market Data Connections' dialog for more details.TSLA NASDAQ.NMS/TOP/ALL, contract: Option(conId=791241016, symbol='TSLA', lastTradeDateOrContractMonth='20250801', strike=330.0, right='C', multiplier='100', exchange='SMART', currency='USD', localSymbol='TSLA  250801C00330000', tradingClass='TSLA')
2025-07-28 12:07:57,756 - INFO - Price: 6.24 | Loss: -45.26% | Trigger: -10%
2025-07-28 12:07:57,756 - INFO - Stop-loss triggered at 6.24. Sending sell order...
2025-07-28 12:07:57,758 - INFO - placeOrder: New order Trade(contract=Option(conId=791241016, symbol='TSLA', lastTradeDateOrContractMonth='20250801', strike=330.0, right='C', multiplier='100', exchange='SMART', currency='USD', localSymbol='TSLA  250801C00330000', tradingClass='TSLA'), order=LimitOrder(orderId=5, clientId=1, action='SELL', totalQuantity=1, lmtPrice=6.24), orderStatus=OrderStatus(orderId=5, status='PendingSubmit', filled=0.0, remaining=0.0, avgFillPrice=0.0, permId=0, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld='', mktCapPrice=0.0), fills=[], log=[TradeLogEntry(time=datetime.datetime(2025, 7, 28, 16, 7, 57, 757482, tzinfo=datetime.timezone.utc), status='PendingSubmit', message='', errorCode=0)], advancedError='')
2025-07-28 12:07:59,770 - WARNING - Order not filled. Status: PendingSubmit
2025-07-28 12:07:59,771 - INFO - Disconnecting from 127.0.0.1:7497, 512 B sent in 12 messages, 24.6 kB received in 453 messages, session time 4.05 s.
2025-07-28 12:07:59,772 - INFO - Disconnecting
2025-07-28 12:07:59,772 - INFO - Disconnected from IBKR.
